
R Under development (unstable) (2013-04-27 r62681) -- "Unsuffered Consequences"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(rrcov)
Loading required package: robustbase
Loading required package: pcaPP
Loading required package: mvtnorm
Scalable Robust Estimators with High Breakdown Point (version 1.3-3)

> library(MASS)
> dodata <- function(method) {
+ 
+     options(digits = 5)
+     set.seed(101)
+ 
+     tmp <- sys.call()
+     cat("\nCall: ", deparse(substitute(tmp)),"\n")
+     cat("===================================================\n")
+ 
+     data(pottery);      show(lda <- LdaPP(origin~., data=pottery, method=method)); show(predict(lda))
+     data(hemophilia);   show(lda <- LdaPP(as.factor(gr)~., data=hemophilia, method=method)); show(predict(lda))
+     data(anorexia);     show(lda <- LdaPP(Treat~., data=anorexia, method=method)); show(predict(lda))
+     data(Pima.tr);      show(lda <- LdaPP(type~., data=Pima.tr, method=method)); show(predict(lda))
+     data(crabs);        show(lda <- LdaPP(sp~., data=crabs, method=method)); show(predict(lda))
+ 
+     cat("===================================================\n")
+ }
> 
> 
> ## -- now do it:
> 
> ## Commented out - still to slow
> ##dodata(method="huber")
> dodata(method="mad")

Call:  dodata(method = "mad") 
===================================================
Call:
LdaPP(origin ~ ., data = pottery, method = method)

Prior Probabilities of Groups:
   Attic Eritrean 
 0.48148  0.51852 

Linear Coeficients:
        [,1]     [,2]    [,3]    [,4]      [,5]      [,6]
[1,] 0.13171 -0.63662 0.37319 0.65857 -0.065857 0.0065857
[2,] 0.00000  0.00000 0.00000 0.00000  0.000000 0.0000000

Constants:
[1] -3.3717  0.0000
                          
Apparent error rate 0.1111

Classification table 
          Predicted
Actual     Attic Eritrean
  Attic       12        1
  Eritrean     2       12

Confusion matrix 
          Predicted
Actual     Attic Eritrean
  Attic    0.923    0.077
  Eritrean 0.143    0.857
Call:
LdaPP(as.factor(gr) ~ ., data = hemophilia, method = method)

Prior Probabilities of Groups:
carrier  normal 
    0.6     0.4 

Linear Coeficients:
         [,1]    [,2]
[1,] -0.87605 0.48222
[2,]  0.00000 0.00000

Constants:
[1] -0.15829  0.00000
                        
Apparent error rate 0.16

Classification table 
         Predicted
Actual    carrier normal
  carrier      38      7
  normal        5     25

Confusion matrix 
         Predicted
Actual    carrier normal
  carrier   0.844  0.156
  normal    0.167  0.833
Call:
LdaPP(Treat ~ ., data = anorexia, method = method)

Prior Probabilities of Groups:
    CBT    Cont      FT 
0.40278 0.36111 0.23611 

Linear Coeficients:
        [,1]    [,2]
[1,] 0.56406 0.82573
[2,] 0.00000 0.00000

Constants:
[1] -114.34    0.00
                          
Apparent error rate 0.5278

Classification table 
      Predicted
Actual CBT Cont FT
  CBT   16   13  0
  Cont   8   18  0
  FT    13    4  0

Confusion matrix 
      Predicted
Actual   CBT  Cont FT
  CBT  0.552 0.448  0
  Cont 0.308 0.692  0
  FT   0.765 0.235  0
Call:
LdaPP(type ~ ., data = Pima.tr, method = method)

Prior Probabilities of Groups:
  No  Yes 
0.66 0.34 

Linear Coeficients:
         [,1]     [,2]     [,3]     [,4]      [,5]      [,6]     [,7]
[1,] -0.32229 -0.40287 -0.24172 -0.16115 -0.012086 0.0087019 -0.80573
[2,]  0.00000  0.00000  0.00000  0.00000  0.000000 0.0000000  0.00000

Constants:
[1] 108.01   0.00
                         
Apparent error rate 0.255

Classification table 
      Predicted
Actual  No Yes
   No  109  23
   Yes  28  40

Confusion matrix 
      Predicted
Actual    No   Yes
   No  0.826 0.174
   Yes 0.412 0.588
Call:
LdaPP(sp ~ ., data = crabs, method = method)

Prior Probabilities of Groups:
  B   O 
0.5 0.5 

Linear Coeficients:
     [,1] [,2]     [,3]     [,4]     [,5]    [,6]     [,7]
[1,]    0    0 -0.57472 0.028736 0.086208 0.43104 -0.68967
[2,]    0    0  0.00000 0.000000 0.000000 0.00000  0.00000

Constants:
[1] -0.20762  0.00000
                     
Apparent error rate 0

Classification table 
      Predicted
Actual   B   O
     B 100   0
     O   0 100

Confusion matrix 
      Predicted
Actual B O
     B 1 0
     O 0 1
===================================================
> ##dodata(method="sest")
> dodata(method="class")

Call:  dodata(method = "class") 
===================================================
Call:
LdaPP(origin ~ ., data = pottery, method = method)

Prior Probabilities of Groups:
   Attic Eritrean 
 0.48148  0.51852 

Linear Coeficients:
        [,1]     [,2]    [,3]    [,4]     [,5]     [,6]
[1,] 0.17149 -0.63695 0.26948 0.63695 -0.29398 0.012249
[2,] 0.00000  0.00000 0.00000 0.00000  0.00000 0.000000

Constants:
[1] -3.2789  0.0000
                         
Apparent error rate 0.037

Classification table 
          Predicted
Actual     Attic Eritrean
  Attic       12        1
  Eritrean     0       14

Confusion matrix 
          Predicted
Actual     Attic Eritrean
  Attic    0.923    0.077
  Eritrean 0.000    1.000
Call:
LdaPP(as.factor(gr) ~ ., data = hemophilia, method = method)

Prior Probabilities of Groups:
carrier  normal 
    0.6     0.4 

Linear Coeficients:
         [,1]    [,2]
[1,] -0.75044 0.66094
[2,]  0.00000 0.00000

Constants:
[1] -0.12275  0.00000
                          
Apparent error rate 0.1467

Classification table 
         Predicted
Actual    carrier normal
  carrier      38      7
  normal        4     26

Confusion matrix 
         Predicted
Actual    carrier normal
  carrier   0.844  0.156
  normal    0.133  0.867
Call:
LdaPP(Treat ~ ., data = anorexia, method = method)

Prior Probabilities of Groups:
    CBT    Cont      FT 
0.40278 0.36111 0.23611 

Linear Coeficients:
        [,1]    [,2]
[1,] 0.17432 0.98469
[2,] 0.00000 0.00000

Constants:
[1] -95.445   0.000
                          
Apparent error rate 0.5278

Classification table 
      Predicted
Actual CBT Cont FT
  CBT   17   12  0
  Cont   9   17  0
  FT    13    4  0

Confusion matrix 
      Predicted
Actual   CBT  Cont FT
  CBT  0.586 0.414  0
  Cont 0.346 0.654  0
  FT   0.765 0.235  0
Call:
LdaPP(type ~ ., data = Pima.tr, method = method)

Prior Probabilities of Groups:
  No  Yes 
0.66 0.34 

Linear Coeficients:
         [,1]     [,2] [,3]     [,4]     [,5]       [,6]     [,7]
[1,] -0.23411 -0.46822    0 -0.26337 -0.34824 -0.0098326 -0.73159
[2,]  0.00000  0.00000    0  0.00000  0.00000  0.0000000  0.00000

Constants:
[1] 113.91   0.00
                        
Apparent error rate 0.24

Classification table 
      Predicted
Actual  No Yes
   No  114  18
   Yes  30  38

Confusion matrix 
      Predicted
Actual    No   Yes
   No  0.864 0.136
   Yes 0.441 0.559
Call:
LdaPP(sp ~ ., data = crabs, method = method)

Prior Probabilities of Groups:
  B   O 
0.5 0.5 

Linear Coeficients:
     [,1] [,2]     [,3] [,4]     [,5]    [,6]     [,7]
[1,]    0    0 -0.59056    0 -0.16404 0.59056 -0.52494
[2,]    0    0  0.00000    0  0.00000 0.00000  0.00000

Constants:
[1] 0.32968 0.00000
                         
Apparent error rate 0.005

Classification table 
      Predicted
Actual   B   O
     B 100   0
     O   1  99

Confusion matrix 
      Predicted
Actual    B    O
     B 1.00 0.00
     O 0.01 0.99
===================================================
> 
> proc.time()
   user  system elapsed 
  10.90    0.07   10.99 
